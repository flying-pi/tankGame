<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="d4/d81/a00110">
    <title>serverworker.h File Reference</title>
    <programlisting>#include &lt;QTcpSocket&gt;</programlisting>
    <programlisting>#include &lt;QThread&gt;</programlisting>
    <programlisting>#include &lt;QDataStream&gt;</programlisting>
    <programlisting>#include &lt;connection/mailboxelement.h&gt;</programlisting>
<para>Include dependency diagram for serverworker.h</para>
<para>
    <figure>
        <title>Dependency diagram</title>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="1" fileref="../../dd/d6d/a00111.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </figure>
</para>
<para>Included by dependency diagram for serverworker.h</para>
<para>
    <figure>
        <title>Dependency diagram</title>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="1" fileref="../../db/d57/a00112.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </figure>
</para>
        <section>
            <title> Classes </title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="de/df3/a00185">ServerWorker</link></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="da/deb/a00189">ServerWorker::responceData</link></para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="dd/df4/a00193">ServerWorker::ReceiverThread</link></para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
    <simplesect>
        <title>Detailed Description</title>
    <para>Definition in file /Users/yurabraiko/dev/qt/TankGame/Server/serverworker.h</para>
    </simplesect>
    <literallayout><computeroutput>
1 <emphasis class="preprocessor">#ifndef&#32;SERVERWORKER_H</emphasis>
2 <emphasis class="preprocessor">#define&#32;SERVERWORKER_H</emphasis>
3 
4 <emphasis class="preprocessor">#include&#32;&lt;QTcpSocket&gt;</emphasis>
5 <emphasis class="preprocessor">#include&#32;&lt;QThread&gt;</emphasis>
6 <emphasis class="preprocessor">#include&#32;&lt;QDataStream&gt;</emphasis>
7 
8 <emphasis class="preprocessor">#include&#32;&lt;<link linkend="d7/d46/a00002">connection/mailboxelement.h</link>&gt;</emphasis>
9 
<link linkend="de/df3/a00185">10 </link><emphasis class="keyword">class&#32;</emphasis><link linkend="de/df3/a00185">ServerWorker</link>&#32;:&#32;<emphasis class="keyword">public</emphasis>&#32;QThread,&#32;<emphasis class="keyword">public</emphasis>&#32;<link linkend="d5/d13/a00205">MailSender</link>&#32;{
11 &#32;&#32;Q_OBJECT
<link linkend="de/df3/a00185_1a767ca3da04cac0be47d1ee1da9eea938">12 </link>&#32;&#32;<emphasis class="keyword">friend</emphasis>&#32;<emphasis class="keyword">class&#32;</emphasis><link linkend="dd/d52/a00221">receiveRespnceThread</link>;
13 
14 &#32;<emphasis class="keyword">public</emphasis>:
15 &#32;&#32;<link linkend="de/df3/a00185_1aa8aee43d415cf337417a1d1f180ef03a">ServerWorker</link>(QTcpSocket*&#32;<link linkend="de/df3/a00185_1a8f7ef6413cb2697dff4a71835fa5b93d">socket</link>);
16 &#32;signals:
17 &#32;&#32;<emphasis class="keywordtype">void</emphasis>&#32;<link linkend="de/df3/a00185_1ab80ef665f93d81c71a83aa42f8d888df">onStop</link>(<link linkend="de/df3/a00185">ServerWorker</link>*&#32;worker);
18 
19 &#32;&#32;<emphasis class="comment">//&#32;QThread&#32;interface</emphasis>
20 &#32;<emphasis class="keyword">protected</emphasis>:
21 &#32;&#32;<emphasis class="keywordtype">void</emphasis>&#32;<link linkend="de/df3/a00185_1a8b4f9a11d13f0b4990ae72f87da010df">run</link>();
22 
23 &#32;<emphasis class="keyword">protected</emphasis>:
<link linkend="da/deb/a00189">24 </link>&#32;&#32;<emphasis class="keyword">struct&#32;</emphasis><link linkend="da/deb/a00189">responceData</link>&#32;{
25 &#32;&#32;&#32;<emphasis class="keyword">public</emphasis>:
<link linkend="da/deb/a00189_1a7a5eda32e5aa3266882ecc57d89ff798">26 </link>&#32;&#32;&#32;&#32;<link linkend="da/deb/a00189_1a7a5eda32e5aa3266882ecc57d89ff798">responceData</link>(QList&lt;DiffElement*&gt;*&#32;<link linkend="da/deb/a00189_1abcaa9482893ea18f129f3b821e4b4ec8">diff</link>,&#32;<link linkend="d8/dfa/a00121">MessageForServer</link>*&#32;<link linkend="da/deb/a00189_1a0915cfbfe5884aecde59303745ced47b">messag</link>)&#32;{
27 &#32;&#32;&#32;&#32;&#32;&#32;this-&gt;diff&#32;=&#32;<link linkend="da/deb/a00189_1abcaa9482893ea18f129f3b821e4b4ec8">diff</link>;
28 &#32;&#32;&#32;&#32;&#32;&#32;this-&gt;messag&#32;=&#32;<link linkend="da/deb/a00189_1a0915cfbfe5884aecde59303745ced47b">messag</link>;
29 &#32;&#32;&#32;&#32;}
30 
<link linkend="da/deb/a00189_1abcaa9482893ea18f129f3b821e4b4ec8">31 </link>&#32;&#32;&#32;&#32;QList&lt;DiffElement*&gt;*&#32;<link linkend="da/deb/a00189_1abcaa9482893ea18f129f3b821e4b4ec8">diff</link>;
<link linkend="da/deb/a00189_1a0915cfbfe5884aecde59303745ced47b">32 </link>&#32;&#32;&#32;&#32;<link linkend="d8/dfa/a00121">MessageForServer</link>*&#32;<link linkend="da/deb/a00189_1a0915cfbfe5884aecde59303745ced47b">messag</link>;
33 &#32;&#32;};
34 
<link linkend="de/df3/a00185_1a8f7ef6413cb2697dff4a71835fa5b93d">35 </link>&#32;&#32;QTcpSocket*&#32;<link linkend="de/df3/a00185_1a8f7ef6413cb2697dff4a71835fa5b93d">socket</link>;
<link linkend="de/df3/a00185_1a237b637e43a66980b16463bab0b38ce4">36 </link>&#32;&#32;<emphasis class="keyword">volatile</emphasis>&#32;<emphasis class="keywordtype">bool</emphasis>&#32;<link linkend="de/df3/a00185_1a237b637e43a66980b16463bab0b38ce4">isWork</link>&#32;=&#32;<emphasis class="keyword">true</emphasis>;
<link linkend="de/df3/a00185_1aa17ea4dcd487fd8bd6aab748d496a561">37 </link>&#32;&#32;QDataStream*&#32;<link linkend="de/df3/a00185_1aa17ea4dcd487fd8bd6aab748d496a561">out</link>;
<link linkend="de/df3/a00185_1a7284c375ebf78a1dc24fbd801755e783">38 </link>&#32;&#32;QMutex&#32;<link linkend="de/df3/a00185_1a7284c375ebf78a1dc24fbd801755e783">workerMutex</link>;
<link linkend="de/df3/a00185_1ac3d49b227a605c95f42569531f8dbe89">39 </link>&#32;&#32;QQueue&lt;responceData&gt;&#32;<link linkend="de/df3/a00185_1ac3d49b227a605c95f42569531f8dbe89">responceMessage</link>;
40 
<link linkend="dd/df4/a00193">41 </link>&#32;&#32;<emphasis class="keyword">class&#32;</emphasis><link linkend="dd/df4/a00193">ReceiverThread</link>&#32;:&#32;<emphasis class="keyword">public</emphasis>&#32;QThread&#32;{
42 &#32;&#32;&#32;<emphasis class="keyword">public</emphasis>:
43 &#32;&#32;&#32;&#32;<link linkend="dd/df4/a00193">ReceiverThread</link>(<link linkend="de/df3/a00185">ServerWorker</link>*&#32;parent,&#32;QTcpSocket*&#32;socket);
44 &#32;&#32;&#32;&#32;<emphasis class="keyword">virtual</emphasis>&#32;~<link linkend="dd/df4/a00193">ReceiverThread</link>();
45 &#32;&#32;&#32;&#32;<emphasis class="keywordtype">void</emphasis>&#32;stop();
46 
47 &#32;&#32;&#32;&#32;<emphasis class="comment">//&#32;QThread&#32;interface</emphasis>
48 &#32;&#32;&#32;<emphasis class="keyword">protected</emphasis>:
49 &#32;&#32;&#32;&#32;<emphasis class="keywordtype">void</emphasis>&#32;<link linkend="de/df3/a00185_1a8b4f9a11d13f0b4990ae72f87da010df">run</link>();
<link linkend="dd/df4/a00193_1a9dde916368513ce6a9548e923d2334fb">50 </link>&#32;&#32;&#32;&#32;QTcpSocket*&#32;<link linkend="dd/df4/a00193_1a9dde916368513ce6a9548e923d2334fb">socket</link>;
<link linkend="dd/df4/a00193_1a4fe56856b2917d124163c057319419ac">51 </link>&#32;&#32;&#32;&#32;<link linkend="de/df3/a00185">ServerWorker</link>*&#32;<link linkend="dd/df4/a00193_1a4fe56856b2917d124163c057319419ac">parentThread</link>;
<link linkend="dd/df4/a00193_1a15a77c31da23a15968944100e884b88e">52 </link>&#32;&#32;&#32;&#32;QDataStream*&#32;<link linkend="dd/df4/a00193_1a15a77c31da23a15968944100e884b88e">in</link>;
<link linkend="dd/df4/a00193_1a2b37a2d966c912535eb3463bc0d60a22">53 </link>&#32;&#32;&#32;&#32;<emphasis class="keywordtype">bool</emphasis>&#32;isWork&#32;=&#32;<emphasis class="keyword">true</emphasis>;
<link linkend="dd/df4/a00193_1abd3ff6eaea0f4da20eeb987a57cbda4f">54 </link>&#32;&#32;&#32;&#32;QMutex&#32;<link linkend="dd/df4/a00193_1abd3ff6eaea0f4da20eeb987a57cbda4f">receiverMutex</link>;
55 &#32;&#32;};
56 
57 &#32;&#32;<emphasis class="comment">//&#32;MailSender&#32;interface</emphasis>
58 &#32;<emphasis class="keyword">public</emphasis>:
59 &#32;&#32;<emphasis class="keywordtype">void</emphasis>&#32;<link linkend="de/df3/a00185_1a2cfa275ffeff3aeee19058e8155763f5">receiveResponce</link>(QList&lt;DiffElement*&gt;*&#32;<link linkend="da/deb/a00189_1abcaa9482893ea18f129f3b821e4b4ec8">diff</link>,&#32;<link linkend="d8/dfa/a00121">MessageForServer</link>*&#32;message);
60 };
61 
62 <emphasis class="preprocessor">#endif&#32;&#32;//&#32;SERVERWORKER_H</emphasis>
    </computeroutput></literallayout>
</section>
