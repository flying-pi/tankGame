\hypertarget{a00104_source}{}\section{serverconnection.\+h}
\label{a00104_source}\index{Server/serverconnection.\+h@{Server/serverconnection.\+h}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#}\textcolor{preprocessor}{ifndef} \textcolor{preprocessor}{SERVERCONNECTION\_H}
00002 \textcolor{preprocessor}{#}\textcolor{preprocessor}{define} \textcolor{preprocessor}{SERVERCONNECTION\_H}
00003 
00004 \textcolor{preprocessor}{#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{QThread}\textcolor{preprocessor}{>}
00005 \textcolor{preprocessor}{#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{QTcpServer}\textcolor{preprocessor}{>}
00006 \textcolor{preprocessor}{#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{QList}\textcolor{preprocessor}{>}
00007 \textcolor{preprocessor}{#}\textcolor{preprocessor}{include} \hyperlink{a00110}{"serverworker.h"}
00008 \textcolor{preprocessor}{#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{"connection/mailboxelement.h"}
00009 
\Hypertarget{a00104_source_l00010}\hyperlink{a00104_a65727a063024ff0dedf1ac2f087f4165}{00010} \textcolor{keyword}{enum} \hyperlink{a00104_a65727a063024ff0dedf1ac2f087f4165}{serverError} \{ \hyperlink{a00104_a65727a063024ff0dedf1ac2f087f4165af21059407733b78da140dbc07981a44a}{canNotStartServer} \};
00011 
\Hypertarget{a00104_source_l00012}\hyperlink{a00181}{00012} \textcolor{keyword}{class} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{ServerConnection} : \textcolor{keyword}{public} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{QThread}, \textcolor{keyword}{public} 
      \hyperlink{a00205}{MailSender} \{
00013  \textcolor{keyword}{public}:
00014   \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{Q\_OBJECT}
00015 
00016  \textcolor{keyword}{public}:
00017   ~\hyperlink{a00181_af558fe509b60eb019281316513f6d188}{ServerConnection}();
\Hypertarget{a00104_source_l00018}\hyperlink{a00181_ad64d541093e285a983911f22ab9a0bff}{00018}   \textcolor{keyword}{inline} \textcolor{keyword}{static} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{ServerConnection}* \hyperlink{a00181_ad64d541093e285a983911f22ab9a0bff}{getServerInstance}() \{
00019     \textcolor{keywordflow}{if} (instance == nullptr)
00020       instance = \textcolor{keyword}{new} ServerConnection();
00021     \textcolor{keywordflow}{return} \hyperlink{a00181_adbbe8ffe6ee71b0aee4db9b6e689ba2a}{instance};
00022   \}
00023   \textcolor{keywordtype}{void} \hyperlink{a00181_a1d45a6a7b2370c82ed2849959bb18c2a}{startServer}();
00024 
00025  \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{signals}:
00026   \textcolor{keywordtype}{void} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{onServerError}(\hyperlink{a00181_af558fe509b60eb019281316513f6d188}{serverError} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{error});
00027 
00028  \textcolor{keyword}{protected}:
\Hypertarget{a00104_source_l00029}\hyperlink{a00181_adbbe8ffe6ee71b0aee4db9b6e689ba2a}{00029}   \textcolor{keyword}{static} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{ServerConnection}* \hyperlink{a00181_adbbe8ffe6ee71b0aee4db9b6e689ba2a}{instance};
00030   \hyperlink{a00181_a0adf644e7715ddbb83a53651b0804dec}{ServerConnection}();
\Hypertarget{a00104_source_l00031}\hyperlink{a00181_aee9a8e6c0f1d25fc2fcb4662631c0c74}{00031}   \hyperlink{a00181_aee9a8e6c0f1d25fc2fcb4662631c0c74}{QTcpServer}* \hyperlink{a00181_aee9a8e6c0f1d25fc2fcb4662631c0c74}{server};
\Hypertarget{a00104_source_l00032}\hyperlink{a00181_a7d9e1b1ac7c2d57b439ab5918e7c31d0}{00032}   \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{QList}<\hyperlink{a00181_af558fe509b60eb019281316513f6d188}{ServerWorker}*>* \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{connections};
00033  \textcolor{keyword}{protected} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{slots}:
00034   \textcolor{keywordtype}{void} \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{onWorkerStop}(\hyperlink{a00181_af558fe509b60eb019281316513f6d188}{ServerWorker}* \hyperlink{a00181_af558fe509b60eb019281316513f6d188}{worker});
00035 
00036   \textcolor{comment}{// QThread interface}
00037  \textcolor{keyword}{protected}:
00038   \textcolor{keywordtype}{void} \hyperlink{a00181_ac7f219a30789e91afa079ab5e49529bd}{run}();
00039 
00040   \textcolor{comment}{// MailSender interface}
00041  \textcolor{keyword}{public}:
00042   \textcolor{keywordtype}{void} \hyperlink{a00181_afd1dd14f38c6c1d1efa719af1a9d9851}{receiveResponce}(\hyperlink{a00181_afd1dd14f38c6c1d1efa719af1a9d9851}{QList}<\hyperlink{a00181_afd1dd14f38c6c1d1efa719af1a9d9851}{DiffElement}*>* 
      \hyperlink{a00181_afd1dd14f38c6c1d1efa719af1a9d9851}{diff}, \hyperlink{a00181_afd1dd14f38c6c1d1efa719af1a9d9851}{MessageForServer}* \hyperlink{a00181_afd1dd14f38c6c1d1efa719af1a9d9851}{message});
00043 \};
00044 
00045 \textcolor{preprocessor}{#}\textcolor{preprocessor}{endif}  \textcolor{comment}{// SERVERCONNECTION\_H}
\end{DoxyCode}
